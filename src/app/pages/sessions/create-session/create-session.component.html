<nb-card class="col-md-12 col-lg-12 col-xxxl-12">
  <nb-card-header>
    <h3>Create a session</h3>
  </nb-card-header>
  <nb-card-body>
    
    <nb-stepper orientation="horizontal">
      <nb-step [label]="labelOne">
        <ng-template #labelOne>Pick an image</ng-template>
        <h4>Choose a case study</h4>        
        <div class="row">
          <div class="member col-xs-12 col-sm-6 col-md-4" *ngFor="let c of images; let i = index">
            <img [src]="c.imageUrl" alt="test" height="50" width="50">
            <span>{{ c.seriesID }}</span>
            <span>{{ c.studyID }}</span>
            <nb-checkbox>Choose Image</nb-checkbox>
          </div>      
        </div>
        
        <button nbButton disabled nbStepperNext>prev</button>
        <button nbButton nbStepperNext>next</button>
      </nb-step>
      <nb-step [label]="labelTwo">
        <ng-template #labelTwo>Give it a name</ng-template>
        <input type="text" [(ngModel)]="session.name" nbInput fullWidth placeholder="Session Name">

        <button nbButton nbStepperPrevious>prev</button>
        <button nbButton nbStepperNext>next</button>
      </nb-step>
      <nb-step [label]="labelThree">
        <ng-template #labelThree>Choose its members</ng-template>
        <div class="row">
          <div class="col-sm-6">
              <ng-multiselect-dropdown
              [placeholder]="'custom placeholder'"
              [data]="dropdownList"
              [(ngModel)]="selectedItems"
              [settings]="dropdownSettings"
              (onSelect)="onItemSelect($event)"
              (onSelectAll)="onSelectAll($event)"
            >
            </ng-multiselect-dropdown>
          </div>
          <div class="col-sm-6">
            <ngx-add-user-widget (add)="addUser($event)"></ngx-add-user-widget>
            <div class="row" style="margin-top: 10px;" *ngFor="let user of users; let i = index">
              <div class="input-group col-sm-6">
                <input type="email" [(ngModel)]="user.email" nbInput fullWidth placeholder="User Email">
              </div>
              <nb-checkbox [(ngModel)]="user.canEdit" class="col-sm-2">ViewOnly</nb-checkbox>
              <nb-actions class="col-sm-4" size="medium">   
                <nb-action icon="nb-close" (click)="removeUser(i)" nbTooltip="Remove User" nbTooltipPlacement="top"></nb-action> 
              </nb-actions>
            </div>
          </div>
        </div>
        <button nbButton nbStepperPrevious>prev</button>
        <button nbButton nbStepperNext>next</button>
      </nb-step>
      <nb-step [label]="labelFour">
        <ng-template #labelFour>Configure <br>its access</ng-template>        

        <!-- Hotjoin config -->
        <div class="row">

          <div class="col-sm-6">
            <h4>Configure Access dates</h4>

            <div class="row">
              <input nbInput placeholder="Start day" [nbDatepicker]="start_date" style="width: 50%;">
              <nb-datepicker #start_date [min]="minStart"></nb-datepicker>
              <input type="number" min="0" max="25" value="0" [(ngModel)]="startHour" nbInput placeholder="HH" style="width: 20%; margin-left: 10px;">
              <input type="number" min="0" max="60" value="0" [(ngModel)]="startMins" nbInput placeholder="MM" style="width: 20%; margin-left: 10px;">  
            </div>
            
            <div class="row" style="margin-top:1em">
              <input nbInput placeholder="End day" [nbDatepicker]="end_date" style="width: 50%;">
              <nb-datepicker #end_date [min]="minEnd"></nb-datepicker>   
              <input type="number" min="0" max="25" value="0" [(ngModel)]="endHour" nbInput placeholder="HH" style="width: 20%; margin-left: 10px;">
              <input type="number" min="0" max="60" value="0" [(ngModel)]="endMins" nbInput placeholder="MM" style="width: 20%; margin-left: 10px;">             
            </div>

          </div>
            
          <div class="col-sm-6">
            <h4>
              Configure HotJoin Access
              <i class="icon nb-help" [nbPopover]="icon" nbTooltip="Allow access to the session through a general link" nbTooltipPlacement="top"></i>
            </h4>
            <nb-checkbox [(ngModel)]="hasHotJoin" class="col-sm-2">Allow HotJoin</nb-checkbox>
            <br>
            <input *ngIf="hasHotJoin" type="number" [(ngModel)]="maxHotJoinUsers" nbInput fullWidth placeholder="Maximum Users" style="width: 50%;">
          </div>

        </div>

        <h4>Write them a message</h4>
        <div class="row">
          <div class="col-sm-1"></div>
          <div class="col-sm-10">
            <ckeditor [(ngModel)]="editorData" [config]="editorConfig"></ckeditor>
          </div>
          <div class="col-sm-1"></div>
        </div>

        <button nbButton (click)="printEditor()">prev</button>

        <button nbButton nbStepperPrevious>prev</button>
        <button nbButton disabled nbStepperNext>next</button>
      </nb-step>
    </nb-stepper>
  </nb-card-body>
</nb-card>